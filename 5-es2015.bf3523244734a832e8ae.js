(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/2RN":function(e,t,n){"use strict";n.r(t),n.d(t,"DashboardModule",(function(){return P}));var c=n("9z5Q"),s=n("vkgz"),o=n("Bqtk");class r{}var i=n("fXoL"),a=n("tk/3"),l=n("aceb"),b=n("Mu/K");let p=(()=>{class e extends o.a{constructor(e,t,n){super(e,"employee",t,n),this.nbToaster=t}getAllEmployees(){return this.httpClient.get(`${this.baseUrl}${this.endPoint}/`)}addEmployee(e){const t=new r;return t.name=e,this.httpClient.post(`${this.baseUrl}${this.endPoint}/`,t).pipe(Object(s.a)(()=>{this.nbToaster.success("Created employee.")}))}}return e.\u0275fac=function(t){return new(t||e)(i.ac(a.a),i.ac(l.E),i.ac(b.a))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),u=(()=>{class e{}return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(t){return new(t||e)},providers:[p],imports:[[c.a]]}),e})();var h=n("tyNb"),d=n("lJxs"),f=n("oadg"),m=n("ofXK"),g=n("VGjC"),v=n("3Pt+");function y(e,t){1&e&&i.Sb(0)}function O(e,t){1&e&&i.Sb(0)}let V=(()=>{class e{constructor(e,t,n){this.route=e,this.userService=t,this.postService=n}createChannel(){this.create=this.postService.createChannel({userId:void 0,channelName:this.channelName}).pipe(Object(s.a)(e=>{this.userService.forceDataRefresh()}))}ngOnInit(){const e=this.route.snapshot.paramMap.get("id");this.selectUser(e)}selectUser(e){this.selectedUser=this.userService.forceRefreshObservable(this.userService.postDetails(e||this.userService.userId).pipe(Object(s.a)(e=>{console.log(e)})))}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(h.a),i.Qb(g.a),i.Qb(f.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["app-create-channel"]],decls:16,vars:7,consts:[[4,"ngIf"],[1,"container"],[1,"row"],["nbInput","","type","text",1,"row",3,"ngModel","ngModelChange"],["nbButton","",1,"btn",3,"click"]],template:function(e,t){1&e&&(i.zc(0,y,1,0,"ng-container",0),i.hc(1,"async"),i.zc(2,O,1,0,"ng-container",0),i.hc(3,"async"),i.Wb(4,"nb-card"),i.Wb(5,"nb-card-header"),i.Wb(6,"h6"),i.Bc(7," New Channel "),i.Vb(),i.Vb(),i.Wb(8,"nb-card-body"),i.Wb(9,"div",1),i.Wb(10,"label",2),i.Bc(11,"Channel name:"),i.Vb(),i.Wb(12,"input",3),i.ec("ngModelChange",(function(e){return t.channelName=e})),i.Vb(),i.Wb(13,"div",2),i.Wb(14,"button",4),i.ec("click",(function(){return t.createChannel()})),i.Bc(15,"Create Channel"),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb()),2&e&&(i.nc("ngIf",i.ic(1,3,t.create)),i.Eb(2),i.nc("ngIf",i.ic(3,5,t.selectedUser)),i.Eb(10),i.nc("ngModel",t.channelName))},directives:[m.m,l.h,l.i,l.g,l.q,v.a,v.e,v.h,l.e],pipes:[m.b],encapsulation:2}),e})();function w(e,t){if(1&e&&(i.Wb(0,"li"),i.Bc(1),i.hc(2,"slice"),i.Vb()),2&e){const e=t.$implicit;i.Eb(1),i.Dc(" ",i.kc(2,1,e.name,0,33)," ")}}function W(e,t){1&e&&i.Sb(0)}let E=(()=>{class e{constructor(e){this.employeeService=e}ngOnInit(){this.getAllEmployees()}getAllEmployees(){this.getEmployeesObservable=this.employeeService.getAllEmployees().pipe(Object(s.a)(e=>{console.log(e)}))}addEmployee(){this.addEmployeeObservable=this.employeeService.addEmployee(this.userName).pipe(Object(s.a)(e=>{console.log(e),this.userName="",this.getAllEmployees()}))}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(p))},e.\u0275cmp=i.Kb({type:e,selectors:[["app-employee-list"]],decls:14,vars:7,consts:[[1,"p-5"],[1,"col","p-3"],[1,"row"],["nbInput","","type","text",3,"ngModel","ngModelChange"],["nbButton","",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,t){1&e&&(i.Wb(0,"nb-card",0),i.Wb(1,"h2"),i.Bc(2,"Employee List"),i.Vb(),i.Wb(3,"div",1),i.Wb(4,"div",2),i.Wb(5,"input",3),i.ec("ngModelChange",(function(e){return t.userName=e})),i.Vb(),i.Vb(),i.Wb(6,"div",2),i.Wb(7,"button",4),i.ec("click",(function(){return t.addEmployee()})),i.Bc(8,"Add Employee"),i.Vb(),i.Vb(),i.Vb(),i.Wb(9,"div"),i.zc(10,w,3,5,"li",5),i.hc(11,"async"),i.Vb(),i.Vb(),i.zc(12,W,1,0,"ng-container",6),i.hc(13,"async")),2&e&&(i.Eb(5),i.nc("ngModel",t.userName),i.Eb(5),i.nc("ngForOf",i.ic(11,3,t.getEmployeesObservable)),i.Eb(2),i.nc("ngIf",i.ic(13,5,t.addEmployeeObservable)))},directives:[l.h,l.q,v.a,v.e,v.h,l.e,m.l,m.m],pipes:[m.b,m.t],styles:[""]}),e})();var S=n("eIep"),C=n("IzEk");class I{constructor(e){Object.assign(this,e)}}const j=["modal"];function M(e,t){if(1&e&&(i.Wb(0,"li"),i.Bc(1),i.Vb()),2&e){const e=t.$implicit;i.Eb(1),i.Cc(e.content)}}function k(e,t){if(1&e){const e=i.Xb();i.Wb(0,"nb-card",6),i.Wb(1,"div",7),i.Wb(2,"label"),i.Bc(3,"Content"),i.Vb(),i.Wb(4,"input",8),i.ec("ngModelChange",(function(t){return i.tc(e),i.gc().newPost.content=t})),i.Vb(),i.Vb(),i.Wb(5,"button",9),i.ec("click",(function(){return i.tc(e),i.gc().create()})),i.Bc(6,"Create"),i.Vb(),i.Vb()}if(2&e){const e=i.gc();i.Eb(4),i.nc("ngModel",e.newPost.content)}}function B(e,t){1&e&&i.Sb(0)}let N=(()=>{class e{constructor(e,t){this.postService=e,this.modalService=t,this.newPost=new I}ngOnInit(){this.selectedChannel=this.postService.subjectObservable,this.posts=this.postService.forceRefreshObservable(this.selectedChannel.pipe(Object(S.a)(e=>this.postService.postList({channel:e,user:this.postService.userId}))))}openModal(){this.modalRef=this.modalService.open(this.modal,{context:{}})}create(){this.cr=this.selectedChannel.pipe(Object(C.a)(1),Object(S.a)(e=>this.postService.create(Object.assign(Object.assign({},this.newPost),{channel:e,user:this.postService.userId}))),Object(s.a)(()=>{this.modalRef.close(),this.postService.forceDataRefresh()}))}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(f.a),i.Qb(l.l))},e.\u0275cmp=i.Kb({type:e,selectors:[["app-post-list"]],viewQuery:function(e,t){var n;1&e&&i.Fc(j,!0),2&e&&i.qc(n=i.fc())&&(t.modal=n.first)},decls:14,vars:9,consts:[[1,"d-flex"],[1,"text-capitalize"],["nbButton","",1,"ml-auto","my-0",3,"click"],[4,"ngFor","ngForOf"],["modal",""],[4,"ngIf"],[1,"mw-300","p-4"],[1,"row"],["type","text","nbInput","",3,"ngModel","ngModelChange"],["nbButton","",3,"click"]],template:function(e,t){1&e&&(i.Wb(0,"nb-card"),i.Wb(1,"nb-card-header",0),i.Wb(2,"div",1),i.Bc(3),i.hc(4,"async"),i.Vb(),i.Wb(5,"button",2),i.ec("click",(function(){return t.openModal()})),i.Bc(6,"Add"),i.Vb(),i.Vb(),i.Wb(7,"nb-card-body"),i.zc(8,M,2,1,"li",3),i.hc(9,"async"),i.Vb(),i.Vb(),i.zc(10,k,7,1,"ng-template",null,4,i.Ac),i.zc(12,B,1,0,"ng-container",5),i.hc(13,"async")),2&e&&(i.Eb(3),i.Dc(" ",i.ic(4,3,t.selectedChannel)," Posts "),i.Eb(5),i.nc("ngForOf",i.ic(9,5,t.posts)),i.Eb(4),i.nc("ngIf",i.ic(13,7,t.cr)))},directives:[l.h,l.i,l.e,l.g,m.l,m.m,l.q,v.a,v.e,v.h],pipes:[m.b],encapsulation:2}),e})();function z(e,t){1&e&&i.Rb(0,"app-post-list",2)}const x=[{path:"",component:(()=>{class e{constructor(e){this.channelSelected=e.subjectObservable.pipe(Object(d.a)(e=>null!=e))}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(f.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["app-dashboard"]],decls:5,vars:3,consts:[[1,"row"],["class","col-12 col-lg-6 col-xl-4",4,"ngIf"],[1,"col-12","col-lg-6","col-xl-4"]],template:function(e,t){1&e&&(i.Wb(0,"div",0),i.zc(1,z,1,0,"app-post-list",1),i.hc(2,"async"),i.Rb(3,"app-create-channel",2),i.Rb(4,"app-employee-list",2),i.Vb()),2&e&&(i.Eb(1),i.nc("ngIf",i.ic(2,1,t.channelSelected)))},directives:[m.m,V,E,N],pipes:[m.b],styles:[""]}),e})()}];let R=(()=>{class e{}return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(t){return new(t||e)},imports:[[h.g.forChild(x)],h.g]}),e})(),Q=(()=>{class e{}return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(t){return new(t||e)},providers:[g.a],imports:[[c.a]]}),e})(),A=(()=>{class e{}return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(t){return new(t||e)},imports:[[c.a]]}),e})(),P=(()=>{class e{}return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(t){return new(t||e)},providers:[],imports:[[c.a,R,u,Q,A]]}),e})()}}]);