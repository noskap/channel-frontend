(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/2RN":function(e,t,n){"use strict";n.r(t),n.d(t,"DashboardModule",(function(){return k}));var s=n("9z5Q"),c=n("aceb");class r{}var o=n("vkgz"),i=n("EY2u"),a=n("fXoL"),l=n("tk/3");let p=(()=>{class e{constructor(e,t){this.httpClient=e,this.endPoint=t,this.baseUrl="https://channel-nest.herokuapp.com/"}postList(e){return this.httpClient.post(`${this.baseUrl}/${this.endPoint}/list`,e)}postCreate(e){return console.log(e),this.httpClient.post(`${this.baseUrl}/${this.endPoint}/create`,e)}postDetails(e){return e?this.httpClient.post(`${this.baseUrl}/${this.endPoint}/details`,{id:e}):i.a}}return e.\u0275fac=function(t){return new(t||e)(a.ac(l.a),a.ac(String))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e extends p{constructor(e,t){super(e,"employee"),this.nbToaster=t}getAllEmployees(){return this.httpClient.get(`${this.baseUrl}${this.endPoint}/`)}addEmployee(e){const t=new r;return t.name=e,this.httpClient.post(`${this.baseUrl}${this.endPoint}/`,t).pipe(Object(o.a)(()=>{this.nbToaster.success("Created employee.")}))}}return e.\u0275fac=function(t){return new(t||e)(a.ac(l.a),a.ac(c.q))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),u=(()=>{class e{}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)},providers:[b],imports:[[s.a,c.e]]}),e})();var h=n("tyNb");let d=(()=>{class e extends p{constructor(e){super(e,"user")}postLogin(e,t){return e&&t?this.httpClient.post(`${this.baseUrl}/${this.endPoint}/login`,{user:{username:e,password:t}}):i.a}getChannels(e){return this.httpClient.post(`${this.baseUrl}/channel/channels`,{id:e})}}return e.\u0275fac=function(t){return new(t||e)(a.ac(l.a))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),f=(()=>{class e extends p{constructor(e){super(e,"post")}createChannel(e){return this.httpClient.post(`${this.baseUrl}/channel/create`,e)}}return e.\u0275fac=function(t){return new(t||e)(a.ac(l.a))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=n("ofXK"),g=n("3Pt+");function y(e,t){if(1&e&&(a.Wb(0,"div",2),a.Wb(1,"a",7),a.Ac(2),a.Vb(),a.Vb()),2&e){const e=t.$implicit;a.Eb(1),a.mc("routerLink",e),a.Eb(1),a.Bc(e)}}function v(e,t){if(1&e){const e=a.Xb();a.Wb(0,"nb-card",1),a.Wb(1,"div",2),a.Wb(2,"div",3),a.Ac(3," New Channel "),a.Wb(4,"div",2),a.Wb(5,"label"),a.Ac(6,"Channel name:"),a.Vb(),a.Wb(7,"input",4),a.ec("ngModelChange",(function(t){return a.sc(e),a.gc().channelName=t})),a.Vb(),a.Vb(),a.Wb(8,"div",2),a.Wb(9,"button",5),a.ec("click",(function(){return a.sc(e),a.gc().createChannel()})),a.Ac(10,"Create Channel"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.yc(11,y,3,2,"div",6),a.hc(12,"async"),a.Vb()}if(2&e){const e=a.gc();a.Eb(7),a.mc("ngModel",e.channelName),a.Eb(4),a.mc("ngForOf",a.ic(12,2,e.channels))}}let C=(()=>{class e{constructor(e,t,n){this.route=e,this.userService=t,this.postService=n}createChannel(){this.postService.createChannel({userId:this.selectedUser.id,channelName:this.channelName}).pipe(Object(o.a)(e=>{window.console.log("channel created",e)}))}ngOnInit(){const e=this.route.snapshot.paramMap.get("id");console.log(e),e&&(console.log("userid found"),this.selectUser(e),this.channels=this.userService.getChannels(e).pipe(Object(o.a)(e=>{console.log(e)})))}selectUser(e){this.selectedUser=this.userService.postDetails(e).pipe(Object(o.a)(e=>{console.log(e)}))}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(h.a),a.Qb(d),a.Qb(f))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-channels"]],decls:1,vars:1,consts:[["class","container p-5",4,"ngIf"],[1,"container","p-5"],[1,"row"],[1,"container-fluid"],["type","text",3,"ngModel","ngModelChange"],[1,"btn",3,"click"],["class","row",4,"ngFor","ngForOf"],[1,"text-uppercase",3,"routerLink"]],template:function(e,t){1&e&&a.yc(0,v,13,4,"nb-card",0),2&e&&a.mc("ngIf",!t.selectedChannel)},directives:[m.m,c.d,g.a,g.e,g.h,m.l,h.f],pipes:[m.b],styles:[""]}),e})();function w(e,t){if(1&e&&(a.Wb(0,"li"),a.Ac(1),a.Vb()),2&e){const e=t.$implicit;a.Eb(1),a.Cc(" ",e.name," ")}}function E(e,t){1&e&&a.Sb(0)}let O=(()=>{class e{constructor(e){this.employeeService=e}ngOnInit(){this.getAllEmployees()}getAllEmployees(){this.getEmployeesObservable=this.employeeService.getAllEmployees().pipe(Object(o.a)(e=>{console.log(e)}))}addEmployee(){this.addEmployeeObservable=this.employeeService.addEmployee(this.userName).pipe(Object(o.a)(e=>{console.log(e),this.userName="",this.getAllEmployees()}))}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(b))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-employee-list"]],decls:14,vars:7,consts:[[1,"p-5"],[1,"col","p-3"],[1,"row"],["nbInput","","type","text",3,"ngModel","ngModelChange"],[1,"row","py-3"],["nbButton","",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,t){1&e&&(a.Wb(0,"nb-card",0),a.Wb(1,"h2"),a.Ac(2,"Employee List"),a.Vb(),a.Wb(3,"div",1),a.Wb(4,"div",2),a.Wb(5,"input",3),a.ec("ngModelChange",(function(e){return t.userName=e})),a.Vb(),a.Vb(),a.Wb(6,"div",4),a.Wb(7,"button",5),a.ec("click",(function(){return t.addEmployee()})),a.Ac(8,"Add Employee"),a.Vb(),a.Vb(),a.Vb(),a.Wb(9,"div"),a.yc(10,w,2,1,"li",6),a.hc(11,"async"),a.Vb(),a.Vb(),a.yc(12,E,1,0,"ng-container",7),a.hc(13,"async")),2&e&&(a.Eb(5),a.mc("ngModel",t.userName),a.Eb(5),a.mc("ngForOf",a.ic(11,3,t.getEmployeesObservable)),a.Eb(2),a.mc("ngIf",a.ic(13,5,t.addEmployeeObservable)))},directives:[c.d,c.g,g.a,g.e,g.h,c.b,m.l,m.m],pipes:[m.b],styles:[""]}),e})();const V=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Kb({type:e,selectors:[["app-dashboard"]],decls:3,vars:0,consts:[[1,"d-flex"],[1,"col-6"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Rb(1,"app-channels",1),a.Rb(2,"app-employee-list",1),a.Vb())},directives:[C,O],styles:[""]}),e})()}];let W=(()=>{class e{}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)},imports:[[h.g.forChild(V)],h.g]}),e})(),$=(()=>{class e{}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)},providers:[d],imports:[[s.a,c.e]]}),e})(),k=(()=>{class e{}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)},providers:[],imports:[[s.a,u,W,c.e,$]]}),e})()}}]);